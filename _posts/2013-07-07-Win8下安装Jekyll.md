---
layout: post
---

# Win8下安装Jekyll

最近在折腾使用github Pages和Jekyll搭建个人博客，按照阮大虾的[教程](http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html)，很顺利就搭建完成了。兴奋的打开网址，页面非常给力地显示在chrome上，可惜是一个完全乱码的页面。不得已，开始折腾着在自己的操作系统Win8下安装jekyll，只为了在本地调试网站。

## 准备工作 

1. 下载Ruby安装包，点这里<http://rubyinstaller.org/downloads/>  
2. 下载Ruby开发工具包，也是在这里<http://rubyinstaller.org/downloads/>

## 安装步骤  

1. 安装Ruby。根据安装向导一步一步安装，将Ruby的安装路径设置为：`D:\Ruby`(**PS：Ruby的安装路径千万不能有空格，小心安装jekyll时各种报错，各种折腾**)，另外，建议勾选上`Add Ruby executables to your PATH`选项，方便控制台下全局使用ruby命令，如下图所示：  
![Alt](http://ww2.sinaimg.cn/large/6321ab24gw1e6djnyap9zj20c805bt95.jpg)  


2. 解压Ruby开发工具包。将开发工具包解压到`D:\Devkit`。  

3. 打开命令行，cd到`D:\Devkit`，执行`ruby dk.rb init`，
这时Devkit目录下会生成一个config.yml文件，用文本编辑器打开，内容如下：  

        # This configuration file contains the absolute path locations of all
        # installed Rubies to be enhanced to work with the DevKit. This config
        # file is generated by the 'ruby dk.rb init' step and may be modified
        # before running the 'ruby dk.rb install' step. To include any installed
        # Rubies that were not automagically discovered, simply add a line below
        # the triple hyphens with the absolute path to the Ruby root directory.
        #
        # Example:
        #
        # ---
        # - C:/ruby19trunk
        # - C:/ruby192dev
        #
        ---
        - D:/Ruby
注意最后一项的路径名称一定要是Ruby的安装路径名称，如果不一样，自己手动修改为Ruby的安装路径，然后保存修改就可以了。  

4. 输入`ruby dk.rb install`，完成DevKit工具的安装。

5. 安装Jekyll。直接输入`gem install jekyll`即可。回车后，如果控制台没有任何响应或者卡住等现象，不要关闭控制台，耐心等待就好，这时候后台正在下载文件。安装成功的，继续往下走。如果不幸安装失败，并且错误信息为：`Could not find a valid gem 'jekyll' (>= 0)`，按以下步骤进行：

    a. 将gem目录下cache文件夹内清空。输入`gem env`查看`GEM Path`的值，这个值就是gem目录的路径。  
    b. 输入以下命令：  

            gem sources --remove http://rubygems.org/
            gem sources --remove https://rubygems.org/
            gem sources -a http://ruby.taobao.org/
            gem install rack
  
  
6. 输入jekyll -v，验证jekyll是否安装成功，如下图所示：  
![Alt](http://ww2.sinaimg.cn/large/6321ab24gw1e6djwy1d7xj204i01u0sk.jpg)

到这一步总算是完成安装，接下来就是jekyll的使用了。

## 参考  

1. <http://www.madhur.co.in/blog/2011/09/01/runningjekyllwindows.html>
2. <http://aotee.com/windows-installation-jekyll>
3. <http://blog.ownlinux.net/2012/08/fix-gem-install-jekyll-problem.html>

![Alt text](http://yuml.me/diagram/class/[Project]->[Task])